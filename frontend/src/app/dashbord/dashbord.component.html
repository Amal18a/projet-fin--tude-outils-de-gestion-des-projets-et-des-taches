<p class="welcome">Bienvenue, {{ this.prenom }}</p>
<div class="tous">
<div class="container">
  <!-- bi d'admin -->
  <div *ngIf="isAdmin" >
    <div class="card-group">
      <div class="card">
        <div class="count">{{ nombreProjets }}</div>
        <div class="label">Nombre de projets</div>
      </div>
      <div class="card">
        <div class="count">{{ nombreProjets1 }}</div>
        <div class="label">Nombre de projets des 30 derniers jours</div>
      </div>
      <div class="card">
        <div class="count">{{ nombreUtils }}</div>
        <div class="label">Nombre d'utilisateurs</div>
      </div>
    </div>
<div class="chart-section">
  <div class="chart-wrapper">
    <h3>Nombre d'utilisateurs par rôle</h3>
    <ngx-charts-pie-chart
      class="chart"
      [view]="view"
      [results]="chartData"
      [legend]="showLegend"
      [explodeSlices]="explodeSlices"
      [labels]="showLabels"
      [doughnut]="isDoughnut"
    ></ngx-charts-pie-chart>
  </div>
  <div class="chart-wrapper">
    <h3>Nombres des projet par chef</h3>
    <ngx-charts-bar-vertical
      [view]="[400, 300]"
      [results]="chartData7"
      [xAxis]="true"
      [yAxis]="true"
      [legend]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      xAxisLabel="chef"
      yAxisLabel="Nombre des projets"
    ></ngx-charts-bar-vertical>
  </div>
    <div class="chart-wrapper1">
      <h3>Meilleur membre</h3>
      <img width="250px" height="250px" [src]="'http://127.0.0.1:3000/getimage/'+ maxmembre?.image" />
      <p> {{ maxmembre?.membre }}</p>
      <p>Nombre des tâches : {{ maxmembre?.nombreMaxTaches }}</p>
    </div>


    <div class="chart-wrapper">
      <h3>Nombre taches par statut</h3>
      <ngx-charts-pie-chart
        class="chart"
        [view]="view"
        [results]="chartData8"
        [legend]="showLegend"
        [explodeSlices]="explodeSlices"
        [labels]="showLabels"
        [doughnut]="isDoughnut"
      ></ngx-charts-pie-chart>
    </div>
    <div class="chart-wrapper">
      <h3>Nombre de projets par complexité</h3>
      <ngx-charts-pie-chart
        class="chart"
        [view]="view"
        [results]="chartData1"
        [legend]="showLegend"
        [explodeSlices]="explodeSlices"
        [labels]="showLabels"
        [doughnut]="isDoughnut"
      ></ngx-charts-pie-chart>
    </div>
    
    <div class="chart-wrapper">
      <h3>projet par mois</h3>
      <ngx-charts-line-chart
        class="line-chart-container"
        [view]="view"
        [results]="chartData6"
        [xAxis]="showXAxis"
        [yAxis]="showYAxis"
        [legend]="showLegend"
        [showXAxisLabel]="showXAxisLabel"
        [showYAxisLabel]="showYAxisLabel"
        xAxisLabel="mois"
        yAxisLabel="nombre des projets"
      ></ngx-charts-line-chart>
    </div>

   

  </div>
  </div>

  <!-- bi de membre -->
  <div *ngIf="isMembre">
    <div class="card-group">
    <div class="card">
      <div class="count">{{ nombreProjetsMembre }}</div>
      <div class="label">Nombre de projets</div>
    </div>
    <div class="card">
      <div class="count">{{ nombretachesMembre }}</div>
      <div class="label">Nombre des taches</div>
    </div>
    </div>
<div  class="chart-section">
    <div class="chart-wrapper">
      <h3>Tâches par statut</h3>
      <ngx-charts-pie-chart
        class="chart"
        [view]="view"
        [results]="chartData2"
        [legend]="showLegend"
        [explodeSlices]="explodeSlices"
        [labels]="showLabels"
        [doughnut]="isDoughnut"
      ></ngx-charts-pie-chart>
    </div>

    <div class="chart-wrapper">
      <h3>Tâches par mois</h3>
      <ngx-charts-line-chart
        class="line-chart-container"
        [view]="view"
        [results]="chartData3"
        [xAxis]="showXAxis"
        [yAxis]="showYAxis"
        [legend]="showLegend"
        [showXAxisLabel]="showXAxisLabel"
        [showYAxisLabel]="showYAxisLabel"
        xAxisLabel="Mois"
        yAxisLabel="Nombre des taches"
      ></ngx-charts-line-chart>
    </div>
  </div>
</div>


  <!-- bi de chef -->
  <div *ngIf="isChef" >
    <div class="card-group">
     
        <div class="card">
          <div class="count">{{ nombreProjetsChef }}</div>
          <div class="label">Nombre de projets</div>
        </div>
   </div>
   <div class="chart-section">
        <div class="card">
        <h3> Mes projets retard</h3>
      
        <div class="ey" *ngFor="let projet of projets">{{ projet.nom }}
        </div>
        <button routerLink="/projetretard" class="button-style">Mes projets retard</button>
      </div>
      <div class="chart-wrapper">
        <h3>progression des projets</h3>
          <div *ngFor="let item of progression">
            <h5>{{ item.projet }}</h5>
            <div class="progress">
              <div class="progress-bar" role="progressbar" [style.width.%]="item.pourcentageTermine">
                {{ item.pourcentageTermine }}%
              </div>
            </div>
          </div>
        
        
        </div>
    
   
   

    <div class="chart-wrapper">
      <h3>Nombre de projets par statut</h3>
      <ngx-charts-pie-chart
        class="chart"
        [view]="view"
        [results]="chartData4"
        [legend]="showLegend"
        [explodeSlices]="explodeSlices"
        [labels]="showLabels"
        [doughnut]="isDoughnut"
      ></ngx-charts-pie-chart>
    </div>

    <div class="chart-wrapper">
      <h3>Projets par mois</h3>
      <ngx-charts-line-chart
        class="line-chart-container"
        [view]="view"
        [results]="chartData5"
        [xAxis]="showXAxis"
        [yAxis]="showYAxis"
        [legend]="showLegend"
        [showXAxisLabel]="showXAxisLabel"
        [showYAxisLabel]="showYAxisLabel"
        xAxisLabel="Mois"
        yAxisLabel="Nombre de projets"
      ></ngx-charts-line-chart>
    </div>
  
   
  </div>
</div>
</div>
</div>